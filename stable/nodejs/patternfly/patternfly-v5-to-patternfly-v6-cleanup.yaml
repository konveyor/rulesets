- ruleID: patternfly-v5-to-patternfly-v6-cleanup-00000
  description: Remove data-codemods attributes added during migration
  effort: 1
  category: mandatory
  labels:
  - konveyor.io/source=patternfly-v5
  - konveyor.io/target=patternfly-v6
  when:
    builtin.filecontent:
      pattern: \bdata-codemods\b
      filePattern: \.(j|t)sx?$
  message: |
    Found `data-codemods` attribute that should be removed after migration is complete.

    These attributes were added by the PatternFly codemods to track components during
    the migration process. After migration is complete, remove these cleanup markers.

    Before:

    ```tsx
    <Component data-codemods="true" />
    ```

    After:

    ```tsx
    <Component />
    ```
  links:
  - url: https://www.patternfly.org/get-started/upgrade/
    title: PatternFly v6 Upgrade Guide
  customVariables: []
  migration_complexity: low
- ruleID: patternfly-v5-to-patternfly-v6-cleanup-00010
  description: Remove data-codemods comments from imports
  effort: 1
  category: mandatory
  labels:
  - konveyor.io/source=patternfly-v5
  - konveyor.io/target=patternfly-v6
  when:
    builtin.filecontent:
      pattern: /\*\s*data-codemods\s*\*/
      filePattern: \.(j|t)sx?$
  message: |
    Found `/* data-codemods */` comment that should be removed.

    These comments were added by the PatternFly codemods to track migration progress.
    After migration is complete, remove these comments to clean up your code.

    Before:

    ```tsx
    import { Component /* data-codemods */ } from "@patternfly/react-core";
    ```

    After:

    ```tsx
    import { Component } from "@patternfly/react-core";
    ```
  links:
  - url: https://www.patternfly.org/get-started/upgrade/
    title: PatternFly v6 Upgrade Guide
  customVariables: []
  migration_complexity: low
- ruleID: patternfly-v5-to-patternfly-v6-cleanup-00020
  description: Incomplete token migration - TBD placeholder requires manual replacement with semantic token
  effort: 2
  category: mandatory
  labels:
  - konveyor.io/source=patternfly-v5
  - konveyor.io/target=patternfly-v6
  when:
    builtin.filecontent:
      pattern: --pf-t--temp--dev--tbd
      filePattern: \.(j|t)sx?$|\.s?css$
  message: |
    Found placeholder token `--pf-t--temp--dev--tbd` indicating incomplete migration.
    This token does not exist in PatternFly 6 and will cause styling issues.

    The codemods could not automatically determine the correct semantic token replacement.
    Check the accompanying comment for the original v5 token and replace with the
    appropriate PF6 semantic token.

    Common status color mappings (for text):
    - `--pf-v5-global--danger-color--100` → `--pf-t--global--text--color--status--danger--default`
    - `--pf-v5-global--success-color--100` → `--pf-t--global--text--color--status--success--default`
    - `--pf-v5-global--warning-color--100` → `--pf-t--global--text--color--status--warning--default`
    - `--pf-v5-global--info-color--100` → `--pf-t--global--text--color--status--info--default`
    - `--pf-v5-global--Color--200` → `--pf-t--global--text--color--subtle`

    Choose the appropriate context based on what you're styling:
    - **text**: `--pf-t--global--text--color--status--{status}--default` (text content)
    - **background**: `--pf-t--global--background--color--status--{status}--default` (element backgrounds)
    - **icon**: `--pf-t--global--icon--color--status--{status}--default` (icon fills)
    - **border**: `--pf-t--global--border--color--status--{status}--default` (border colors)
    - **box-shadow**: `--pf-t--global--box-shadow--color--status--{status}--default` (shadow colors)
    - **focus-ring**: `--pf-t--global--focus-ring--color--status--{status}--default` (focus indicators)

    Where `{status}` is one of: `danger`, `success`, `warning`, `info`, or `custom`.

    Before:

    ```
    color: "var(--pf-t--temp--dev--tbd)"/* CODEMODS: original v5 color was --pf-v5-global--danger-color--100 */
    ```

    After:

    ```
    color: "var(--pf-t--global--text--color--status--danger--default)"
    ```
  links:
  - url: https://www.patternfly.org/tokens/develop-with-tokens/
    title: PatternFly v6 Develop with Tokens
  - url: https://www.patternfly.org/design-foundations/colors/
    title: PatternFly v6 Colors
  customVariables: []
  migration_complexity: medium
- ruleID: patternfly-v5-to-patternfly-v6-cleanup-00030
  description: CSS selector .pf-v5-c-tile should be updated for Card migration
  effort: 3
  category: mandatory
  labels:
  - konveyor.io/source=patternfly-v5
  - konveyor.io/target=patternfly-v6
  when:
    builtin.filecontent:
      pattern: \.pf-v5-c-tile
      filePattern: \.s?css$
  message: |
    Found `.pf-v5-c-tile` CSS selector which will not match PatternFly 6 components.

    The Tile component has been deprecated in PatternFly 6 and should be replaced with Card.
    Your CSS selectors need to be updated accordingly.

    **Option 1: If keeping deprecated Tile temporarily**
    Update the selector to target the v6 class:

    Before:
    ```scss
    .pf-v5-c-tile {
      cursor: pointer;
    }
    .pf-v5-c-tile.pf-m-selected {
      border-color: var(--pf-v5-global--active-color--100);
    }
    ```

    After:
    ```scss
    .pf-v6-c-tile {
      cursor: pointer;
    }
    .pf-v6-c-tile.pf-m-selected {
      border-color: var(--pf-t--global--border--color--clicked);
    }
    ```

    **Option 2: If migrating to Card (recommended)**
    Replace with Card selectors and use a custom class for tile-like behavior:

    Before:
    ```scss
    .pf-v5-c-tile {
      cursor: pointer;
      &:hover {
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      &.pf-m-selected {
        border-color: var(--pf-v5-global--active-color--100);
      }
    }
    ```

    After:
    ```scss
    .pf-v6-c-card.pf-m-selectable {
      cursor: pointer;
      &:hover {
        box-shadow: var(--pf-t--global--box-shadow--md);
      }
      &.pf-m-selected {
        border-color: var(--pf-t--global--border--color--clicked);
      }
    }
    ```
  links:
  - url: https://www.patternfly.org/components/card/
    title: PatternFly Card Component
  - url: https://www.patternfly.org/components/tile/
    title: PatternFly Tile Component (Deprecated)
  customVariables: []
  migration_complexity: medium
- ruleID: patternfly-v5-to-patternfly-v6-cleanup-00040
  description: Nested Content components indicate incomplete Text to Content migration
  effort: 3
  category: mandatory
  labels:
  - konveyor.io/source=patternfly-v5
  - konveyor.io/target=patternfly-v6
  when:
    builtin.filecontent:
      pattern: <Content>\s*<Content\s+component=
      filePattern: \.(j|t)sx?$
  message: |
    Found nested Content components which indicates an incomplete migration from Text/TextContent.

    In PatternFly 5, you would use `<TextContent>` as a wrapper with `<Text>` inside:
    ```tsx
    <TextContent>
      <Text component={TextVariants.h1}>Title</Text>
    </TextContent>
    ```

    In PatternFly 6, the `Content` component replaces both. You should NOT nest Content
    components. Instead, use a single `Content` with the appropriate `component` prop:

    Before (incorrect migration):

    ```tsx
    <Content>
      <Content component={ContentVariants.h1}>Title</Content>
    </Content>
    ```

    After (correct):

    ```tsx
    <Content component={ContentVariants.h1}>Title</Content>
    ```

    If you need a wrapper for multiple Content elements, use a `div` or semantic HTML:

    ```tsx
    <div>
      <Content component={ContentVariants.h1}>Title</Content>
      <Content component={ContentVariants.p}>Description</Content>
    </div>
    ```
  links:
  - url: https://www.patternfly.org/components/content/
    title: PatternFly Content Component
  customVariables: []
  migration_complexity: medium
- ruleID: patternfly-v5-to-patternfly-v6-cleanup-00050
  description: MastheadLogo should not be wrapped in MastheadBrand with data-codemods
  effort: 3
  category: mandatory
  labels:
  - konveyor.io/source=patternfly-v5
  - konveyor.io/target=patternfly-v6
  when:
    builtin.filecontent:
      pattern: <MastheadBrand\s+data-codemods[^>]*>\s*<MastheadLogo
      filePattern: \.(j|t)sx?$
  message: |
    Found MastheadBrand with data-codemods wrapping MastheadLogo, indicating incomplete migration.

    The `data-codemods` attribute was added during automated migration and should be removed.
    Also verify the component structure is correct:

    In PatternFly 6, `MastheadBrand` is an optional wrapper that can contain a link,
    and `MastheadLogo` is the component that renders your logo/brand image.

    Clean up the migration artifacts:

    Before (with migration markers):

    ```tsx
    <MastheadBrand data-codemods><MastheadLogo data-codemods>
      <Content>
        <Content component={ContentVariants.h1}>App Title</Content>
      </Content>
    </MastheadLogo></MastheadBrand>
    ```

    After (cleaned up):

    ```tsx
    <MastheadBrand>
      <MastheadLogo>
        <Content component={ContentVariants.h1}>App Title</Content>
      </MastheadLogo>
    </MastheadBrand>
    ```

    Or if you need the brand as a link:

    ```tsx
    <MastheadBrand>
      <MastheadLogo component="a" href="/">
        <Content component={ContentVariants.h1}>App Title</Content>
      </MastheadLogo>
    </MastheadBrand>
    ```
  links:
  - url: https://www.patternfly.org/components/masthead/
    title: PatternFly Masthead Component
  customVariables: []
  migration_complexity: medium
- ruleID: patternfly-v5-to-patternfly-v6-cleanup-00060
  description: --pf-v6-global-- is not a valid PatternFly 6 token prefix
  effort: 3
  category: mandatory
  labels:
  - konveyor.io/source=patternfly-v5
  - konveyor.io/target=patternfly-v6
  when:
    builtin.filecontent:
      pattern: --pf-v6-global--
      filePattern: \.(css|scss|js|jsx|ts|tsx)$
  message: |
    Found `--pf-v6-global--` which is NOT a valid PatternFly 6 token prefix.

    PatternFly 6 uses a new semantic token system with the `--pf-t--` prefix.
    The `--pf-v6-global--` pattern does not exist and will not resolve to any value.

    This likely occurred during migration when `--pf-v5-global--` was incorrectly
    replaced with `--pf-v6-global--` instead of the proper semantic token.

    Common replacements:

    | Incorrect (v6-global)                      | Correct (semantic token)                                    |
    |--------------------------------------------|-------------------------------------------------------------|
    | `--pf-v6-global--spacer--sm`               | `--pf-t--global--spacer--sm`                                |
    | `--pf-v6-global--spacer--md`               | `--pf-t--global--spacer--md`                                |
    | `--pf-v6-global--FontSize--md`             | `--pf-t--global--font--size--body--default`                 |
    | `--pf-v6-global--FontWeight--bold`         | `--pf-t--global--font--weight--body--bold`                  |
    | `--pf-v6-global--BackgroundColor--100`     | `--pf-t--global--background--color--primary--default`       |
    | `--pf-v6-global--BackgroundColor--dark-100`| `--pf-t--global--background--color--inverse--default`       |
    | `--pf-v6-global--BorderColor--100`         | `--pf-t--global--border--color--default`                    |
    | `--pf-v6-global--BorderWidth--sm`          | `--pf-t--global--border--width--regular`                    |
    | `--pf-v6-global--Color--100`               | `--pf-t--global--text--color--regular`                      |
    | `--pf-v6-global--Color--light-100`         | `--pf-t--global--text--color--on-brand--default`            |
    | `--pf-v6-global--danger-color--100`        | `--pf-t--global--color--status--danger--default`            |
    | `--pf-v6-global--success-color--100`       | `--pf-t--global--color--status--success--default`           |
    | `--pf-v6-global--active-color--100`        | `--pf-t--global--color--brand--default`                     |

    Before:

    ```css
    background-color: var(--pf-v6-global--BackgroundColor--100);
    ```

    After:

    ```css
    background-color: var(--pf-t--global--background--color--primary--default);
    ```
  links:
  - url: https://www.patternfly.org/tokens/all-patternfly-tokens/
    title: PatternFly v6 Token Reference
  - url: https://www.patternfly.org/tokens/develop-with-tokens/
    title: PatternFly v6 Develop with Tokens
  customVariables: []
  migration_complexity: medium
